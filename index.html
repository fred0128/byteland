<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/all.css">
    <link rel="stylesheet" href="css/main-style.css">
    <link rel="stylesheet" href="https://github.com/fred0128/byteland/blob/e2146b479ce889424ab35f6e1a35978dc0104862/css/header.css">
    <title>ByteLand</title>
</head>

<body>

    <div class="background"></div>
    <div class="container">
        <div id="header"></div>
        <div class="index-box-main">
            <div class="main-left">
                <p class="index-main-header">Lorem ipsum dolor sitamet, <span>consectetur</span> adipiscing elit, <br>
                    sed do eiusmod <span>tempor</span> incididunt ut labore <br> et dolore magna aliqua.</p>
                <div class="index-inp-box-gs">
                    <input type="text" id="getstarted-input" placeholder="E-poçtunuzu əlavə edin">
                    <button class="index-getstarted" onclick="handleGetStarted()">Get Started</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Firebase modullarını CDN-dən import et
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
        import { getAuth, sendSignInLinkToEmail } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js";

        // Firebase konfiqurasiya məlumatları
        const firebaseConfig = {
            apiKey: "AIzaSyDiV_XVPGlaDLFJFLSgiN2-4W5VSbZmsmo",
            authDomain: "byteland-thefeerid.firebaseapp.com",
            projectId: "byteland-thefeerid",
            storageBucket: "byteland-thefeerid.firebasestorage.app",
            messagingSenderId: "493568186753",
            appId: "1:493568186753:web:0ad7203cda456e3d357080",
            measurementId: "G-F7RGT5XVQ8"
        };

        // Firebase tətbiqini başlat
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Email ilə giriş linkini göndərən funksiya
        window.sendSignInLink = function (email) {
            const actionCodeSettings = {
                url: 'https://fred0128.github.io/byteland/pages/success.html', // Yönləndiriləcək səhifə
                handleCodeInApp: true, // E-poçt link ilə giriş işləsin deyə `true` olmalıdır
            };

            sendSignInLinkToEmail(auth, email, actionCodeSettings)
                .then(() => {
                    // E-poçt uğurla göndərildi
                    window.localStorage.setItem('emailForSignIn', email);
                    alert("Giriş linki e-poçtunuza göndərildi.");
                })
                .catch((error) => {
                    console.error("Xəta baş verdi:", error.message);
                });
        };

        // Get Started düyməsini kliklədikdə çağırılan funksiya
        window.handleGetStarted = function () {
            const email = document.getElementById('getstarted-input').value;
            if (email) {
                sendSignInLink(email);
            } else {
                alert("Zəhmət olmasa e-poçtunuzu daxil edin.");
            }
        };
    </script>

    <!-- Header Yüklənməsi -->
    <script>
        fetch("https://fred0128.github.io/byteland/pages/header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("header").innerHTML = data;
            });
    </script>

</body>

</html>